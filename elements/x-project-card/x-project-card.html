<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/font-roboto/roboto.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/core-icons/core-icons.html">
<link rel="import" href="/bower_components/paper-shadow/paper-shadow.html">

<polymer-element name="x-project-card" attributes="project">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
        width: 100%;
      }
      .card {
        padding: 10px;
        overflow: visible;
        display: flex;
      }
      .card-inner {
        flex: 1;
        background-color: #fff;
        padding: 10px;
      }
      core-icon-button {
        position: absolute;
        top: 3px;
        right: 3px;
        fill: #636363;
      }
      :host([favorite]) core-icon-button {
        fill: #da4336;
      }
    </style>
    <div class="card">
      <div class="card-inner">
        <h1 class="project-title">{{ project.title }}</h1>
        <div class="project-description">{{ project.description }}</div>

        <paper-icon-button icon="favorite" on-tap="{{ favoriteTapped }}"></paper-icon-button>
        <paper-shadow z="1"></paper-shadow>
      </div>
    </div>
  </template>
  <script>
    Polymer('x-project-card', {
      project: {},
      publish: {
        favorite: {
          value: false,
          reflect: true
        }
      },
      favoriteTapped: function(event, detail, sender) {
        this.favorite = !this.favorite;
        this.fire('favorite-tap');
      }
    });
  </script>
</polymer-element>